# Extreme Maths Python

![Python tests](https://github.com/Liamdoult/extreme-maths-py/workflows/Python%20tests/badge.svg)

The plan... simple. Be faster.

|operation                        |torch      |numpy|EMVector                     |EMVectorCuda                   |EMVectorOCL                   |EMVectorThreaded    |
|---------------------------------|-----------|-----|-----------------------------|-------------------------------|------------------------------|--------------------|
|_gen_                            |81.25832962989807|63.3122673034668|239.72546291351318           |248.6399188041687              |248.73081421852112            |252.0158247947693   |
|add                              |0.09076094627380371|0.2198336124420166|0.22127938270568848          |0.20900273323059082            |0.012310981750488281          |0.0981907844543457  |
|iadd                             |0.06261229515075684|0.13434076309204102|0.06695151329040527          |0.0003120899200439453          |0.0004379749298095703         |0.06727170944213867 |
|sub                              |0.09346699714660645|0.2171010971069336|0.2306673526763916           |0.21472668647766113            |0.01950526237487793           |0.10164356231689453 |
|isub                             |0.06339287757873535|0.13574743270874023|0.06682729721069336          |0.00030517578125               |0.0004303455352783203         |0.06783890724182129 |
|mul                              |0.09812688827514648|0.21811532974243164|0.23042082786560059          |0.21485352516174316            |0.01925182342529297           |0.09966754913330078 |
|imul                             |0.06266522407531738|0.13608527183532715|0.06714177131652832          |0.00029850006103515625         |0.0004324913024902344         |0.06864356994628906 |
|div                              |0.09618377685546875|0.21883177757263184|0.2213141918182373           |0.2148292064666748             |0.019215106964111328          |0.09937262535095215 |
|idiv                             |0.062479496002197266|0.13460731506347656|0.06670331954956055          |0.00030159950256347656         |0.0004248619079589844         |0.06891322135925293 |


## Testing

All tests are written in with pytest. You need to build `extreme_maths_c` and copy the `libem.so` binary into `src/extreme_maths/` to use or test the library.

    $ tox

To run the benchmark test (Not run by default):

    pytest -s -v test/test_perf.py
